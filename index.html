<!DOCTYPE html>
<!-- saved from url=(0032)http://localhost:3999/lt.slide#1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>Docker APIをGoから使う #dockerjp</title>
    <meta charset="utf-8">
    <script src="./index_files/slides.js"></script>
  <meta name="viewport" content="width=1100,height=750"><meta name="apple-mobile-web-app-capable" content="yes"></head>

  <body style="display: none" class="loaded">

    <section class="slides layout-widescreen">
      
      <article class="current">
        <h1>Docker APIをGoから使う #dockerjp</h1>
        
        <h3>17 January 2015</h3>
        
          <div class="presenter">
            
  
  <p>
    Ian Lewis
  </p>
  

  
  <p>
    無職
  </p>
  

          </div>
        
      </article>
      
  
  
      <article class="next">
      
        <h3>お前誰よ</h3>
        
<div class="image">
  <img src="./index_files/profile.jpg">
</div>

  <ul>
  
    <li>元BeProud (今は無職)</li>
  
    <li>connpassというものを作っていた</li>
  
  </ul>

      
      </article>
  
  
  
      <article class="far-next">
      
        <h3>Docker Remote API</h3>
        
<div class="image">
  <img src="./index_files/docker.png" width="600">
</div>
<figcaption>http://docs.docker.com/reference/api/docker_remote_api/</figcaption>
      
      </article>
  
  
  
      <article class="">
      
        <h3>Kubernetes</h3>
        
<div class="image">
  <img src="./index_files/kubernetes.png" width="400">
</div>
<figcaption>http://kubernetes.io/</figcaption>
      
      </article>
  
  
  
      <article class="">
      
        <h3>Go Docker Client</h3>
        
  
  <p>
    インストール
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="1">$ go get github.com/fsouza/go-dockerclient</span>
</pre>


</div>

  
  <p>
    クライアント作成
  </p>
  

  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="1">package main</span>
<span num="2"></span>
<span num="3">// 'docker' package</span>
<span num="4">import "github.com/fsouza/go-dockerclient"</span>
<span num="5"></span>
<span num="6">func main() {</span>
<span num="7">    endpoint := "unix:///var/run/docker.sock"</span>
<span num="8">    client, _ := docker.NewClient(endpoint)</span>
<span num="9">    //...</span>
<span num="10">}</span>
</pre>


</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>おれおれ docker run</h3>
        
  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="12">    c, _ := client.CreateContainer(docker.CreateContainerOptions{</span>
<span num="13">        Name: "my-nginx",</span>
<span num="14">        Config: &amp;docker.Config{</span>
<span num="15">            Image: "nginx",</span>
<span num="16">        },</span>
<span num="17">    })</span>
<span num="18"></span>
<span num="19">    client.StartContainer(c.ID, &amp;docker.HostConfig{</span>
<span num="20">        PortBindings: map[docker.Port][]docker.PortBinding{</span>
<span num="21">            "80/tcp": []docker.PortBinding{</span>
<span num="22">                docker.PortBinding{HostPort: "8000"},</span>
<span num="23">            },</span>
<span num="24">        },</span>
<span num="25">        Binds: []string{"/opt/workspace/src/github.com/IanMLewis/docker_meetup_slides:/usr/share/nginx/html:ro"},</span>
<span num="26">    })</span>
<span num="27"></span>
<span num="28">    fmt.Println("ID: ", c.ID)</span>
<span num="29">    fmt.Println("Name: ", c.Name)</span>
<span num="30">    fmt.Println("Created: ", c.Created)</span>
</pre>


</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>おれおれ docker ps</h3>
        
  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="12">    clist, _ := client.ListContainers(docker.ListContainersOptions{All: false})</span>
<span num="13">    for _, c := range clist {</span>
<span num="14">        fmt.Println("ID: ", c.ID)</span>
<span num="15">        fmt.Println("Name: ", c.Names)</span>
<span num="16">        fmt.Println("Created: ", c.Created)</span>
<span num="17">    }</span>
</pre>


</div>

      
      </article>
  
  
  
      <article class="">
      
        <h3>おれおれ docker stop/rm</h3>
        
  <div class="code" contenteditable="true" spellcheck="false">


<pre><span num="14">        client.StopContainer(c.ID, 30)</span>
<span num="15">        client.RemoveContainer(docker.RemoveContainerOptions{</span>
<span num="16">            ID: c.ID,</span>
<span num="17">            RemoveVolumes: true,</span>
<span num="18">        })</span>
</pre>


</div>

      
      </article>
  
  

      <article class="">
        <h3>Thank you</h3>
        
          <div class="presenter">
            
  
  <p>
    Ian Lewis
  </p>
  

  
  <p>
    無職
  </p>
  
<p class="link"><a href="mailto:ianlewis@gmail.com" target="_blank">ianlewis@gmail.com</a></p><p class="link"><a href="http://www.ianlewis.org/" target="_blank">http://www.ianlewis.org/</a></p><p class="link"><a href="http://twitter.com/IanMLewis" target="_blank">@IanMLewis</a></p>
  
  <p>
     
  </p>
  

          </div>
        
      </article>

    <div class="slide-area" id="prev-slide-area"></div><div class="slide-area" id="next-slide-area"></div></section>

  
  
  <script src="./index_files/play.js"></script>
  

<link rel="stylesheet" type="text/css" href="./index_files/css"><link rel="stylesheet" type="text/css" href="./index_files/styles.css"><link rel="stylesheet" type="text/css" media="print" href="./index_files/print.css"></body></html>